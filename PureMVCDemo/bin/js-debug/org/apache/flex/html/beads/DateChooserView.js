/**
 * Generated by Apache Flex Cross-Compiler from org\apache\flex\html\beads\DateChooserView.as
 * org.apache.flex.html.beads.DateChooserView
 *
 * @fileoverview
 *
 * @suppress {checkTypes|accessControls}
 */

goog.provide('org.apache.flex.html.beads.DateChooserView');

goog.require('org.apache.flex.core.IBeadModel');
goog.require('org.apache.flex.core.SimpleCSSStyles');
goog.require('org.apache.flex.core.UIBase');
goog.require('org.apache.flex.core.ValuesManager');
goog.require('org.apache.flex.events.Event');
goog.require('org.apache.flex.events.IEventDispatcher');
goog.require('org.apache.flex.html.Group');
goog.require('org.apache.flex.html.beads.GroupView');
goog.require('org.apache.flex.html.beads.models.DateChooserModel');
goog.require('org.apache.flex.html.supportClasses.DateChooserHeader');
goog.require('org.apache.flex.html.supportClasses.DateChooserList');
goog.require('org.apache.flex.html.supportClasses.DateHeaderButton');
goog.require('org.apache.flex.core.IBeadView');
goog.require('org.apache.flex.utils.Language');



/**
 *  constructor
 *
 *  @langversion 3.0
 *  @playerversion Flash 10.2
 *  @playerversion AIR 2.6
 *  @productversion FlexJS 0.0
 * @constructor
 * @extends {org.apache.flex.html.beads.GroupView}
 * @implements {org.apache.flex.core.IBeadView}
 */
org.apache.flex.html.beads.DateChooserView = function() {
  org.apache.flex.html.beads.DateChooserView.base(this, 'constructor');
};
goog.inherits(org.apache.flex.html.beads.DateChooserView, org.apache.flex.html.beads.GroupView);


/**
 * @private
 * @type {org.apache.flex.html.beads.models.DateChooserModel}
 */
org.apache.flex.html.beads.DateChooserView.prototype.model;


/**
 * @private
 * @type {org.apache.flex.html.supportClasses.DateHeaderButton}
 */
org.apache.flex.html.beads.DateChooserView.prototype._prevMonthButton;


/**
 * @private
 * @type {org.apache.flex.html.supportClasses.DateHeaderButton}
 */
org.apache.flex.html.beads.DateChooserView.prototype._nextMonthButton;


/**
 * @private
 * @type {org.apache.flex.html.supportClasses.DateHeaderButton}
 */
org.apache.flex.html.beads.DateChooserView.prototype.monthLabel;


/**
 * @private
 * @type {org.apache.flex.html.Group}
 */
org.apache.flex.html.beads.DateChooserView.prototype.monthButtonsContainer;


/**
 * @private
 * @type {org.apache.flex.html.supportClasses.DateChooserHeader}
 */
org.apache.flex.html.beads.DateChooserView.prototype.dayNamesContainer;


/**
 * @private
 * @type {org.apache.flex.html.supportClasses.DateChooserList}
 */
org.apache.flex.html.beads.DateChooserView.prototype.daysContainer;


/**
 * @private
 * @const
 * @type {number}
 */
org.apache.flex.html.beads.DateChooserView.prototype.controlHeight = 26;


/**
 * @private
 * @const
 * @type {number}
 */
org.apache.flex.html.beads.DateChooserView.prototype.commonButtonWidth = 40;


/**
 * @asprivate
 * @private
 */
org.apache.flex.html.beads.DateChooserView.prototype.createChildren = function() {
  this.monthButtonsContainer = new org.apache.flex.html.Group();
  this.monthButtonsContainer.height = this.controlHeight;
  this.monthButtonsContainer.id = "dateChooserMonthButtons";
  this.monthButtonsContainer.className = "DateChooserMonthButtons";
  this.monthButtonsContainer.style = new org.apache.flex.core.SimpleCSSStyles();
  this.monthButtonsContainer.style.flexGrow = 0;
  this.monthButtonsContainer.element.style["flex-grow"] = "0";
  this._prevMonthButton = new org.apache.flex.html.supportClasses.DateHeaderButton();
  this._prevMonthButton.width = this.commonButtonWidth;
  this._prevMonthButton.text = "<";
  if (this._prevMonthButton.style == null) {
    this._prevMonthButton.style = new org.apache.flex.core.SimpleCSSStyles();
  }
  this._prevMonthButton.style.flexGrow = 0;
  this._prevMonthButton.element.style["flex-grow"] = "0";
  this.monthButtonsContainer.addElement(this._prevMonthButton);
  this.monthLabel = new org.apache.flex.html.supportClasses.DateHeaderButton();
  this.monthLabel.text = "Month Here";
  if (this.monthLabel.style == null) {
    this.monthLabel.style = new org.apache.flex.core.SimpleCSSStyles();
  }
  this.monthLabel.style.flexGrow = 1;
  this.monthLabel.element.style["flex-grow"] = "1";
  this.monthButtonsContainer.addElement(this.monthLabel);
  this._nextMonthButton = new org.apache.flex.html.supportClasses.DateHeaderButton();
  this._nextMonthButton.width = this.commonButtonWidth;
  this._nextMonthButton.text = ">";
  if (this._nextMonthButton.style == null) {
    this._nextMonthButton.style = new org.apache.flex.core.SimpleCSSStyles();
  }
  this._nextMonthButton.element.style["flex-grow"] = "0";
  this._nextMonthButton.style.flexGrow = 0;
  this.monthButtonsContainer.addElement(this._nextMonthButton);
  org.apache.flex.utils.Language.as(this._strand, org.apache.flex.core.UIBase, true).addElement(this.monthButtonsContainer, false);
  this.dayNamesContainer = new org.apache.flex.html.supportClasses.DateChooserHeader();
  this.dayNamesContainer.id = "dateChooserDayNames";
  this.dayNamesContainer.className = "DateChooserHeader";
  this.dayNamesContainer.height = this.controlHeight;
  this.dayNamesContainer.style = new org.apache.flex.core.SimpleCSSStyles();
  this.dayNamesContainer.style.flexGrow = 0;
  this.dayNamesContainer.element.style["flex-grow"] = "0";
  this.dayNamesContainer.element.style["align-items"] = "center";
  
  org.apache.flex.utils.Language.as(this._strand, org.apache.flex.core.UIBase, true).addElement(this.dayNamesContainer, false);
  this.daysContainer = new org.apache.flex.html.supportClasses.DateChooserList();
  this.daysContainer.className = "DateChooserList";
  this.daysContainer.id = "dateChooserList";
  this.daysContainer.style = new org.apache.flex.core.SimpleCSSStyles();
  this.daysContainer.style.flexGrow = 1;
  this.daysContainer.element.style["flex-grow"] = "1";
  
  org.apache.flex.utils.Language.as(this._strand, org.apache.flex.core.UIBase, true).addElement(this.daysContainer, false);
  org.apache.flex.utils.Language.as(this.daysContainer, org.apache.flex.events.IEventDispatcher, true).dispatchEvent(new org.apache.flex.events.Event("itemsCreated"));
  this.model.addEventListener("selectedDateChanged", org.apache.flex.utils.Language.closure(this.selectionChangeHandler, this, 'selectionChangeHandler'));
};


/**
 * @asprivate
 * @private
 */
org.apache.flex.html.beads.DateChooserView.prototype.updateDisplay = function() {
  this.monthLabel.text = this.model.monthNames[this.model.displayedMonth] + " " + String(this.model.displayedYear);
  this.dayNamesContainer.dataProvider = this.model.dayNames;
  this.daysContainer.dataProvider = this.model.days;
};


/**
 * @asprivate
 * @private
 * @param {org.apache.flex.events.Event} event
 */
org.apache.flex.html.beads.DateChooserView.prototype.selectionChangeHandler = function(event) {
  this.updateDisplay();
  var /** @type {number} */ index = this.model.getIndexForSelectedDate();
  this.daysContainer.selectedIndex = index;
};


/**
 * @asprivate
 * @private
 * @param {org.apache.flex.events.Event} event
 */
org.apache.flex.html.beads.DateChooserView.prototype.handleModelChange = function(event) {
  this.updateDisplay();
};


org.apache.flex.html.beads.DateChooserView.prototype.set__strand = function(value) {
  org.apache.flex.html.beads.DateChooserView.superClass_.set__strand.apply(this, [ value] );
  this.model = org.apache.flex.utils.Language.as(this._strand.getBeadByType(org.apache.flex.core.IBeadModel), org.apache.flex.html.beads.models.DateChooserModel);
  if (this.model == null) {
    this.model = org.apache.flex.utils.Language.as(new (org.apache.flex.core.ValuesManager["valuesImpl"].getValue(this._strand, "iBeadModel"))(), org.apache.flex.html.beads.models.DateChooserModel);
  }
  this.model.addEventListener("displayedMonthChanged", org.apache.flex.utils.Language.closure(this.handleModelChange, this, 'handleModelChange'));
  this.model.addEventListener("displayedYearChanged", org.apache.flex.utils.Language.closure(this.handleModelChange, this, 'handleModelChange'));
  this.createChildren();
  this.updateDisplay();
};


org.apache.flex.html.beads.DateChooserView.prototype.get__prevMonthButton = function() {
  return this._prevMonthButton;
};


org.apache.flex.html.beads.DateChooserView.prototype.get__nextMonthButton = function() {
  return this._nextMonthButton;
};


org.apache.flex.html.beads.DateChooserView.prototype.get__dayList = function() {
  return this.daysContainer;
};


Object.defineProperties(org.apache.flex.html.beads.DateChooserView.prototype, /** @lends {org.apache.flex.html.beads.DateChooserView.prototype} */ {
/** @export */
strand: {
set: org.apache.flex.html.beads.DateChooserView.prototype.set__strand},
/** @export */
prevMonthButton: {
get: org.apache.flex.html.beads.DateChooserView.prototype.get__prevMonthButton},
/** @export */
nextMonthButton: {
get: org.apache.flex.html.beads.DateChooserView.prototype.get__nextMonthButton},
/** @export */
dayList: {
get: org.apache.flex.html.beads.DateChooserView.prototype.get__dayList}}
);


/**
 * Metadata
 *
 * @type {Object.<string, Array.<Object>>}
 */
org.apache.flex.html.beads.DateChooserView.prototype.FLEXJS_CLASS_INFO = { names: [{ name: 'DateChooserView', qName: 'org.apache.flex.html.beads.DateChooserView', kind: 'class' }], interfaces: [org.apache.flex.core.IBeadView] };


/**
 * Prevent renaming of class. Needed for reflection.
 */
goog.exportSymbol('org.apache.flex.html.beads.DateChooserView', org.apache.flex.html.beads.DateChooserView);



/**
 * Reflection
 *
 * @return {Object.<string, Function>}
 */
org.apache.flex.html.beads.DateChooserView.prototype.FLEXJS_REFLECTION_INFO = function () {
  return {
    variables: function () {return {};},
    accessors: function () {
      return {
        'strand': { type: 'org.apache.flex.core.IStrand', access: 'writeonly', declaredBy: 'org.apache.flex.html.beads.DateChooserView'},
        'prevMonthButton': { type: 'org.apache.flex.html.supportClasses.DateHeaderButton', access: 'readonly', declaredBy: 'org.apache.flex.html.beads.DateChooserView'},
        'nextMonthButton': { type: 'org.apache.flex.html.supportClasses.DateHeaderButton', access: 'readonly', declaredBy: 'org.apache.flex.html.beads.DateChooserView'},
        'dayList': { type: 'org.apache.flex.html.List', access: 'readonly', declaredBy: 'org.apache.flex.html.beads.DateChooserView'}
      };
    },
    methods: function () {
      return {
        'DateChooserView': { type: '', declaredBy: 'org.apache.flex.html.beads.DateChooserView'}
      };
    }
  };
};